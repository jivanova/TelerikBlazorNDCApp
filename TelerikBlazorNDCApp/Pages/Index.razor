@page "/"

@using System.Collections.ObjectModel
@inject GridDataService GridDataService

<TelerikGrid Data=@GridData 
             Height="400px"
             Resizable="true"
             Reorderable="true"
             Groupable="true">
    <GridColumns>
        <GridColumn Field="@nameof(Attendee.Id)" Title="Id" />
        <GridColumn Field="@nameof(Attendee.CompanyName)" Title="Company Name" />
        <GridColumn Field="@nameof(Attendee.ContactName)" Title="Contact Name" />
        <GridColumn Field="@nameof(Attendee.ContactTitle)" Title="Contact Title" />
        <GridColumn Field="@nameof(Attendee.Address)" Title="Address" />
        <GridColumn Field="@nameof(Attendee.City)" Title="Address" />
        <GridColumn Field="@nameof(Attendee.Country)" Title="Country" />
        <GridColumn Field="@nameof(Attendee.Phone)" Title="Phone" />
    </GridColumns>
</TelerikGrid>


@code {
    public ObservableCollection<Attendee> GridData { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await LoadData();
    }

    private async Task LoadData()
    {
        var employees = await GridDataService.GetAttendeesAsync();

        GridData = new ObservableCollection<Attendee>(employees);
    }
}