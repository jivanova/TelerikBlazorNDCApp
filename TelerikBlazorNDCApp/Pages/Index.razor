@page "/"

@using System.Collections.ObjectModel
@inject GridDataService GridDataService

<TelerikGrid Data=@GridData 
             Height="400px"
             Resizable="true"
             Reorderable="true"
             Groupable="true">
    <GridColumns>
        <GridColumn Field="@nameof(Customer.Id)" Title="Id" />
        <GridColumn Field="@nameof(Customer.CompanyName)" Title="Company Name" />
        <GridColumn Field="@nameof(Customer.ContactName)" Title="Contact Name" />
        <GridColumn Field="@nameof(Customer.ContactTitle)" Title="Contact Title"/>
        <GridColumn Field="@nameof(Customer.Address)" Title="Address" />
        <GridColumn Field="@nameof(Customer.Country)" Title="Country" />
        <GridColumn Field="@nameof(Customer.Phone)" Title="Phone" />
    </GridColumns>
</TelerikGrid>


@code {
    public ObservableCollection<Customer> GridData { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await LoadData();
    }

    private async Task LoadData()
    {
        var employees = await GridDataService.GetCustomersAsync();

        GridData = new ObservableCollection<Customer>(employees);
    }
}